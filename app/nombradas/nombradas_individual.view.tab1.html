<div class="container-fluid">
    <br>
    <legend class="scheduler-border col-lg-12">{{messages.fechaTurno}}</legend>
    
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.fechainicio}}*:</label>
        <div class="input-group col-lg-4" style="padding-left: 15px; padding-right: 45px;" ng-class="{'has-error' : messageValidateDate}">
            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="date.value" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats"
            uib-tooltip="{{messageValidateDate}}"
            tooltip-placement="top"
            tooltip-trigger="'mouseenter'"
            tooltip-enable="messageValidateDate"/>
            <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
            <p style="color: red" class="pull-left" ng-show="messageValidate == 'date'">{{messageCamposObligatorios}}</p>
            <p style="color: red" class="pull-left" ng-show="messageValidateDate == 'date'">{{messageDate}}</p>
        </div>
    </div>
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.turnoNombrada}}*:</label>
        <div class="col-sm-4" ng-class="{'has-error' : ValidateTurno}"
            uib-tooltip="{{messages.messageValidate}}"
            tooltip-placement="top"
            tooltip-trigger="'mouseenter'"
            tooltip-enable="ValidateTurno"/>
            <select ng-model="nomIctl.TurnSelected" id="TurnSelected" ng-options="turn.value as turn.displayName for turn in getTurnos()" class="form-control form-control-sm col-lg-12">
                <option value="">-- Seleccionar --</option>
            </select>
        </div>
    </div>
    <legend class="scheduler-border col-lg-12">{{messages.lugarTrabajo}}</legend>
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.puerto}}*:</label>
        <div class="col-lg-4"><h5>{{puertoUnico}}</h5></div>
    </div>
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.nave}}*:</label>
        <div class="col-lg-4"  ng-class="{'has-error' : ValidateNave}"
            uib-tooltip="{{messages.messageValidate}}"
            tooltip-placement="top"
            tooltip-trigger="'mouseenter'"
            tooltip-enable="ValidateNave">
            <select ng-model="nomIctl.NaveSelected" ng-options="nav.value as nav.displayName for nav in getNaves()" class="form-control form-control-sm col-lg-12">
                <option value="">-- Seleccionar --</option>
            </select>
        </div>
    </div>
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.sitio}}*:</label>
        <div class="col-lg-4">
            <input ng-model="nomIctl.SitioLugarTrabajo" type="text" class="form-control col-lg-8 form-control-sm" ng-disabled="nomIctl.NaveSelected">
        </div>
    </div>
    <div class="form-group col-lg-12">
        <label class="control-label col-sm-4">{{messages.lugar}}*:</label>
        <div class="col-lg-4">
            <select ng-model="nomIctl.LugarSelected" ng-options="lug.value as lug.displayName for lug in getLugares()" class="form-control form-control-sm col-lg-12" ng-disabled="nomIctl.NaveSelected">
                <option value="">-- Seleccionar --</option>
            </select>
        </div>
    </div>
</div>
<br>
<div class="container-fluid">
    <legend class="scheduler-border col-lg-12">{{messages.trabajador}}</legend>
    <div class="col-lg-12">
        <div class="col-lg-3" ng-init ="documentoIdentificador = 'rut'" >
            <input type="radio"  name="identificadorTrabajador" ng-click="documentoIdentificador = 'rut'" ng-checked="true"/> {{messages.rut}}
            <input type="radio" style="margin-left: 30px;" ng-click="documentoIdentificador = 'pasaporte'" name="identificadorTrabajador" ng-checked='false'/> {{messages.pasaporte}} :
            *
        </div>
        <div class="col-lg-6" style="margin-left: -15px;">
            
            <input type="text" class="form-control" ng-style="{'border-color' : (messagevalidateRut == true) ? 'red' : ''}" placeholder="Ingrese Rut, ej: 11111111-1" aria-describedby="sizing-addon1" id="txt_rut" ng-keyup="$event.keyCode == 13 && validateRut(documentoIdentificador)" ng-model="rutTrabajador">
            <p style="color: red" ng-show="messagevalidateRut">{{messagerut}}</p>
        </div>
        <div class="col-lg-3">
            <button class="btn btn-warning" ng-click="agregarTrabajador(rutTrabajador)" ng-disabled="!validadoRut">{{messages.BTN_AnadirTrabajador}}</button>
        </div>
    </div>
    <div class="container-fluid" style="overflow: auto;" ng-show="showTableTrabajadores">
        <br>
        
        <table ng-init='configPages()' class="table table-bordered table-striped table-hover table-condensed customTable scroll" style="white-space: nowrap, width: 1200px" cellspacing="0"  ng-enabled="verTablaTrabajador">
            <thead>
                <tr style="background-color: #D3D3D3">
                    <th><small>Rut o Pasaporte</small></th>
                    <th><small>Nombres</small></th>
                    <th><small>Apellidos</small></th>
                    <th><small>Labor</small></th>
                    <th><small>Función</small></th>
                    <th><small>Tipo de contrato</small></th>
                    <th><small>Tipo de jornada</small></th>
                    <th><small>Total horas semanales</small></th>
                    <th><small>Remuneración Bruta (CLP)</small></th>
                    <th><small>Eliminar</small></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat='datosTrabajador in tableDatosTrabajadores | startFromGrid: currentPage * pageSize | limitTo: pageSize'>
                    <td>{{datosTrabajador.rutPasaporteTrabajador}}</td>
                    <td>{{datosTrabajador.nombresTrabajador}}</td>
                    <td>{{datosTrabajador.apellidosTrabajador}}</td>
                    <td>
                        <select ng-model="nomIctl.laborSelect[$index]" ng-options="lab.value as lab.displayName for lab in getLaborTrabajador()" class="form-control">
                        </select>
                    </td>
                    <td>
                        <select ng-model="nomIctl.funcionSelect[$index]" ng-options="fun.value as fun.displayName for fun in getFuncionTrabajador()" class="form-control">
                        </select>
                    </td>
                    <td>{{datosTrabajador.tipoContratoTrabajador}}</td>
                    <td>{{datosTrabajador.tipoJornadaTrabajador}}</td>
                    <td>{{datosTrabajador.totalHorasSemanales}}</td>
                    <td>{{datosTrabajador.remuneracionBrutaTrabajador}}</td>
                    <td>
                        <button class="btn btn-danger" type="button" ng-really-message="¿Está seguro eliminar el registro?" ng-really-click="eliminarTrabajador(datosTrabajador.id)"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="btn-group pull-right">
            <button type='button' class='btn btn-default' ng-disabled='currentPage == 0' ng-click='currentPage = currentPage - 1'>&laquo;</button>
            <button type='button' class='btn btn-default' ng-disabled='currentPage == page.no - 1' ng-click='setPage(page.no)' ng-repeat='page in pages'>{{page.no}}</button>
            <button type='button' class='btn btn-default' ng-disabled='currentPage >= tableDatosTrabajadores.length/pageSize - 1' , ng-click='currentPage = currentPage + 1'>&raquo;</button>
        </div>
    </div>
</div>
<br>
<br>
<div class="container-fluid col-lg-6  pull-left">
    <label class="control-label">{{messages.camposObligatorios}}</label>
</div>
<div class="container-fluid col-lg-6  pull-right">
    <div class="pull-right">
        <button class="btn btn-default " type="button" ng-click="cleanForm()">{{messages.BTN_limpiar}}</button>
        <button class="btn btn-default" type="submit">{{messages.BTN_cancelar}}</button>
        <button href="#" class="btn btn-primary" ng-click="changeTabByButton()" data-toggle="tab">{{messages.BTN_continuar}}</button>
    </div>
</div>
